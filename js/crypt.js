try{const a=navigator.serviceWorker.register("/js/sw.js",{scope:"/",type:"module"})}catch(e){console.error(e)}window.onload=()=>{var e=document.getElementById("login-form");e&&(e.onsubmit=e=>{e.preventDefault(),fetch(new Request("/sw-login",{method:"POST",body:document.getElementById("password").value})),location.href="/"}),document.querySelectorAll("[data-plain]").forEach(l=>{fetch(l.dataset.plain).then(e=>(401==e.status&&(location.href="/login.html"),e.text())).then(e=>{l.innerHTML=e})}),document.querySelectorAll("[data-src]").forEach(l=>{fetch(l.dataset.src).then(e=>(401==e.status&&(location.href="/login.html"),e.text())).then(e=>{l.innerHTML=e.replaceAll(/^([^#].*)$/gm,"<p>$1</p>").replaceAll(/^##([^#].+)$/gm,"<h3>$1</h3>").replaceAll(/^###([^#].+)$/gm,"<h4>$1</h4>").replaceAll(/^####([^#].+)$/gm,"<h5>$1</h5>").replaceAll(/\*\*(.+?)\*\*/gm,"<span class='marker'>$1</span>").replaceAll(/\+\[(.+?)\]\((.+?)\)/gm,"<a href='$2' class='normal-link' target='_blank' rel='noopener noreferrer'>$1</a>").replaceAll(/\[(.+?)\]\((.+?)\)/gm,"<a href='$2' class='normal-link'>$1</a>")})})};
